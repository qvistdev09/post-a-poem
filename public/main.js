(()=>{console.log("File is loaded");const e=document.getElementById("word-palette"),t=document.getElementById("composed-poem");document.getElementById("submit-poem-btn").addEventListener("click",(()=>{const e=[];for(let t of document.getElementsByClassName("poem-word"))e.push(t.innerText);const t=e.join(" ");fetch("/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({poem:t})}).then((()=>{window.location.href="/"}))}));const n=["silence","potato","is","justice","would","alarmingly","tremor","warned","in","places"];for(let t of n){const n=document.createElement("button");n.innerText=t,n.setAttribute("id",t+"-add"),n.setAttribute("onclick","addWord(this)"),e.appendChild(n)}window.addWord=e=>{e.setAttribute("disabled","true");const n=(e=>{const t=document.createElement("div");t.setAttribute("class","word-div");const n=document.createElement("button");n.setAttribute("onclick","removeWord(this)"),n.setAttribute("id",e+"-rm"),n.setAttribute("class","poem-word"),n.innerText=e;const o=document.createElement("div");o.setAttribute("class","connector-div");let d=Math.floor(101*Math.random())/100*4;return d<.3&&(d=.3),o.style.width=`${d}rem`,t.appendChild(o),t.appendChild(n),t})(e.innerText),o=t.getElementsByClassName("poem-row");if(0===o.length){const e=document.createElement("div");e.setAttribute("class","poem-row"),t.appendChild(e),e.appendChild(n)}else{for(let e of o)if(e.children.length<3)return void e.appendChild(n);const e=document.createElement("div");e.setAttribute("class","poem-row"),t.appendChild(e),e.appendChild(n)}},window.removeWord=e=>{document.getElementById(e.innerText+"-add").removeAttribute("disabled");const t=e.parentElement.parentElement;1===t.children.length?t.parentElement.removeChild(t):t.removeChild(e.parentElement)}})();